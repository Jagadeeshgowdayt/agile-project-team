name: "Basic Frontend Best Practices Check"

on:
  push:
    paths:
      - '**/*.html'
      - '**/*.css'
      - '**/*.js'
  workflow_dispatch:

jobs:
  best-practices:
    runs-on: ubuntu-latest
    timeout-minutes: 5

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

      - name: Check HTML Best Practices ğŸ”
        run: |
          echo "Checking HTML best practices..."
          if ! grep -q '<html[^>]*lang=' index.html; then
            echo "ğŸ”” Missing lang attribute in <html>, it's recommended for accessibility and SEO."
          fi
          if ! grep -q '<meta charset="UTF-8">' index.html; then
            echo "ğŸ”” Missing charset meta tag. Itâ€™s recommended to use <meta charset='UTF-8'>."
          fi
          if ! grep -q '<meta name="viewport"' index.html; then
            echo "ğŸ”” Missing viewport meta tag. It's crucial for mobile responsiveness."
          fi
          if ! grep -q '<main>' index.html; then
            echo "ğŸ”” Missing <main> tag. It helps with semantic HTML structure."
          fi
          if ! grep -q 'alt=' index.html; then
            echo "ğŸ”” Some images are missing the 'alt' attribute for accessibility."
          fi
          echo "âœ… HTML checks complete"

      - name: Check CSS Best Practices ğŸ¨
        run: |
          echo "Checking CSS best practices..."
          if grep -q '!important' *.css; then
            echo "ğŸ”” Avoid using '!important' unless absolutely necessary."
          fi
          if grep -q 'style=' index.html; then
            echo "ğŸ”” Inline CSS found. Itâ€™s recommended to use external stylesheets for better maintainability."
          fi
          echo "âœ… CSS checks complete"

      - name: Check JavaScript Best Practices ğŸ’¡
        run: |
          echo "Checking JavaScript best practices..."
          if grep -r 'var ' *.js; then
            echo "ğŸ”” Found 'var' usage. Use 'let' or 'const' for block-scoped variables."
          fi
          if grep -r 'eval(' *.js; then
            echo "âŒ Found eval() â€” This is a security risk. Avoid using it."
          fi
          if grep -r 'innerHTML' *.js; then
            echo "ğŸ”” Found innerHTML usage. Be cautious and sanitize input if using it."
          fi
          echo "âœ… JavaScript checks complete"

      - name: Simulate Wait for Visibility ğŸ”„
        run: |
          echo "Simulating delay to view output..."
          sleep 30
